import{h as q,r as w,L as I,j as e,M as y,T as A,B as T,N as v}from"./index-B6Q5p1mB.js";import{u as z,C as d}from"./index.esm-BWg4JeyN.js";import{G as a}from"./Grid-BZIlOCxN.js";import{F as D,I as W,S as E,a as S,T as o}from"./TextField-CqXArht2.js";import"./useFormControl-BFweTqSu.js";import"./InputBase-DvqLZ0SM.js";try{let n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},x=new n.Error().stack;x&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[x]="05f60b1d-61e1-4c33-bc59-2f9cabae4de5",n._sentryDebugIdIdentifier="sentry-dbid-05f60b1d-61e1-4c33-bc59-2f9cabae4de5")}catch{}const P=({initialValues:n,onSubmit:x,onClose:R})=>{var g;const{data:h}=q(r=>r.user),{data:f}=q(r=>r.organization),u=(g=h==null?void 0:h.users)==null?void 0:g.filter(r=>r.role==="TEACHER"),m=f==null?void 0:f.organizations,b={_id:"",userId:"",name:"",phone:"",email:"",organizationId:"",organizations:[],departments:[],subjects:[],qualifications:"",experience:0,officeHours:"",coursesTaught:[],performanceReviews:[],specialResponsibilities:"",createdAt:null,updatedAt:null},{control:l,handleSubmit:_,formState:{errors:s},reset:j}=z({defaultValues:b});w.useEffect(()=>{n&&j({...n,createdAt:n.createdAt?I(n.createdAt):null,updatedAt:n.updatedAt?I(n.updatedAt):null})},[n,j]);const H=r=>{const i={...r,createdAt:r.createdAt?r.createdAt.format("YYYY-MM-DD"):null,updatedAt:r.updatedAt?r.updatedAt.format("YYYY-MM-DD"):null};x(i)};return e.jsx("form",{onSubmit:_(H),children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"userId",control:l,rules:{required:"User ID is required"},render:({field:r})=>{var i;return e.jsxs(D,{fullWidth:!0,margin:"normal",error:!!s.userId,children:[e.jsx(W,{children:"User ID"}),e.jsx(E,{...r,label:"User ID",renderValue:t=>{var c;return e.jsx(A,{variant:"body2",children:(c=u==null?void 0:u.find(p=>p._id===t))==null?void 0:c.username})},children:u==null?void 0:u.map(t=>e.jsx(y,{value:t._id,children:t.username},t._id))}),e.jsx(S,{children:(i=s.userId)==null?void 0:i.message})]})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"name",control:l,rules:{required:"Name is required"},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Name",fullWidth:!0,margin:"normal",error:!!s.name,helperText:(i=s.name)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"phone",control:l,rules:{required:"Phone is required",pattern:{value:/^[0-9]{10}$/,message:"Invalid phone number"}},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Phone Number",fullWidth:!0,margin:"normal",error:!!s.phone,helperText:(i=s.phone)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"email",control:l,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Email",fullWidth:!0,margin:"normal",error:!!s.email,helperText:(i=s.email)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"phone",control:l,rules:{pattern:{value:/^[0-9]{10}$/,message:"Invalid phone number"}},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Phone Number",fullWidth:!0,margin:"normal",error:!!s.phone,helperText:(i=s.phone)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"organizationId",control:l,rules:{required:"Organization is required"},render:({field:r})=>{var i;return e.jsxs(D,{fullWidth:!0,margin:"normal",error:!!s.organizationId,children:[e.jsx(W,{children:"Organization"}),e.jsx(E,{...r,label:"Organization",renderValue:t=>e.jsx(T,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(c=>{var p;return e.jsx(A,{component:"span",variant:"body2",children:(p=m==null?void 0:m.find(Y=>Y.id===c))==null?void 0:p.name},c)})}),children:m==null?void 0:m.map(t=>e.jsx(y,{value:t.id,children:t.name},t.id))}),e.jsx(S,{children:(i=s.organizationId)==null?void 0:i.message})]})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"qualifications",control:l,rules:{required:"Qualifications is required"},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Qualifications",fullWidth:!0,margin:"normal",error:!!s.qualifications,helperText:(i=s.qualifications)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"experience",control:l,rules:{required:"Experience is required"},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Experience",fullWidth:!0,margin:"normal",error:!!s.experience,helperText:(i=s.experience)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"officeHours",control:l,rules:{required:"Office Hours is required"},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Office Hours",fullWidth:!0,margin:"normal",error:!!s.officeHours,helperText:(i=s.officeHours)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(d,{name:"specialResponsibilities",control:l,rules:{required:"Special Responsibilities is required"},render:({field:r})=>{var i;return e.jsx(o,{...r,label:"Special Responsibilities",fullWidth:!0,margin:"normal",error:!!s.specialResponsibilities,helperText:(i=s.specialResponsibilities)==null?void 0:i.message})}})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(T,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:2},children:[e.jsx(v,{variant:"outlined",color:"primary",onClick:()=>{j(b),R()},children:"Cancel"}),e.jsx(v,{type:"submit",variant:"contained",color:"primary",children:"Save"})]})})]})})};export{P as default};
//# sourceMappingURL=Teacher.Form-mEL60mnm.js.map
