import{b as E,v as j,y,u as l,r as s,j as r,B as D,O as P}from"./index-Iayj6iCM.js";import{u as R,R as S}from"./usePaginationParams-D-EadkPr.js";import{c as i}from"./course.actions-D17_l-ax.js";import"./Edit-CwExJUNw.js";import"./Save-Cbz7BGnc.js";import"./Search-CyrNpi08.js";import"./isHostComponent-Byq13FOA.js";import"./KeyboardArrowRight-B2v7g9ly.js";import"./InputBase-BjWt6y8l.js";import"./Modal-CwWs3I4F.js";import"./MenuItem-B4ZcixFb.js";import"./List-Bn0p357_.js";import"./listItemTextClasses-D33cD7Dv.js";import"./Toolbar-Dy84SFcE.js";import"./TextField-BucTJljM.js";import"./Menu-4fDYuzS_.js";import"./Visibility-CFzAd-gA.js";import"./reselect-chQN1zS_.js";import"./ListItemText-D64mH7rW.js";import"./InputAdornment-B1la7Cdg.js";import"./Checkbox-CqLXZ7o-.js";import"./SwitchBase-eVy0UzNH.js";import"./FormControlLabel-DoYbMEM9.js";import"./LinearProgress-CCvmoNmW.js";import"./CircularProgress-C-K4l3j0.js";function ae(){const o=E(),m=j(),n=y().pathname.includes("/courses/"),t=l(e=>e.course.courses);console.log("ðŸš€ ~ coursesData:",t);const{isLoading:c}=l(e=>e.course),h=s.useMemo(()=>[{field:"name",headerName:"Course Name",flex:1.5,editable:!0,headerClassName:"theme--header"},{field:"code",headerName:"Course Code",flex:.8,editable:!0,headerClassName:"theme--header"},{field:"description",headerName:"Description",flex:2,editable:!0,headerClassName:"theme--header"},{field:"schedule",headerName:"Schedule",flex:1,editable:!0,headerClassName:"theme--header"},{field:"credits",headerName:"Credits",flex:.5,editable:!0,headerClassName:"theme--header",type:"number"},{field:"fee",headerName:"Fee",flex:.8,editable:!0,headerClassName:"theme--header",type:"number",valueFormatter:e=>{var a;return`$${(a=e.value)==null?void 0:a.toFixed(2)}`}},{field:"location",headerName:"Location",flex:1,editable:!0,headerClassName:"theme--header"}],[]),[u,p]=s.useState({}),f=s.useCallback(e=>{o(i.fetchCourses())},[o]),{params:d,setParams:C}=R({page:1,limit:10,sortBy:void 0,sortOrder:void 0,searchTerm:void 0,filters:{}},f),g=e=>{C(e)},x=()=>{console.log("Add course")},N=e=>{const a=t.find(M=>M._id===e);console.log("Edit course:",a)},b=async e=>{o(i.deleteCourse(e))},v=e=>{m(`/CMS-FE/courses/${e}`)},w=()=>{o(i.fetchCourses())};return r.jsx(D,{sx:{width:"100%",height:"100%"},children:n?r.jsx(P,{}):r.jsx(S,{columns:h,rows:(t==null?void 0:t.courses)||[],loading:c,onAdd:x,onEdit:N,onView:v,onDelete:b,rowModesModel:u,setRowModesModel:p,totalRows:(t==null?void 0:t.length)||0,paginationModel:{page:d.page-1,pageSize:d.limit},onParamsChange:g,reloadData:w})})}export{ae as default};
