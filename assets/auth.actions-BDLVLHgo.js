import{cL as i,cM as u,Q as t,cN as g,z as n,$ as o,cO as d,a3 as p,cP as l,cQ as m}from"./index-Iayj6iCM.js";const y=(e,r)=>async s=>{try{s(d());const a=await t.login(e),c=await t.permissions(a.data.data.loggedInUser._id);return s(p(c.data)),s(l(a.data)),r(n.DASHBOARD),a.data}catch(a){s(m(a.response.data.data)),s(o({severity:"error",message:a.response.data.data}))}},S=e=>async r=>{try{r(i()),await u.purge();const s=await t.logout();return r(g(s.data)),e(n.LOGIN),s.data}catch(s){r(o({severity:"error",message:s.response.data.data}))}},U=(e,r)=>async s=>{try{await t.modifyPermissions(e,r)}catch(a){s(o({severity:"error",message:a.response.data.data}))}},A={loginUser:y,logoutUser:S,updatePermissions:U};export{A as a};
