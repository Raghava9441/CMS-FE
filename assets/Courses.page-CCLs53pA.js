import{bh as t,bi as a,v as o,I as c,r as d,j as l}from"./index-Wd-8jL93.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="6855c147-9b62-4c95-a470-f0e1f8e1d1e4",e._sentryDebugIdIdentifier="sentry-dbid-6855c147-9b62-4c95-a470-f0e1f8e1d1e4")}catch{}const n={courses:[],isLoading:!1,error:null},i=t({name:"course",initialState:n,reducers:{fetchCoursesStart:e=>{e.isLoading=!0,e.error=null},fetchCoursesSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},fetchCoursesFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},fetchCourseByIdStart:e=>{e.isLoading=!0,e.error=null},fetchCourseByIdSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},fetchCourseByIdFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},createCourseStart:e=>{e.isLoading=!0,e.error=null},createCourseSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},createCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},updateCourseStart:e=>{e.isLoading=!0,e.error=null},updateCourseSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},updateCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},deleteCourseStart:e=>{e.isLoading=!0,e.error=null},deleteCourseSuccess:(e,r)=>{e.courses=e.courses.filter(s=>s._id!==r.payload),e.isLoading=!1,e.error=null},deleteCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload}}}),{fetchCoursesStart:f,fetchCoursesSuccess:C,fetchCoursesFailure:E,fetchCourseByIdStart:y,fetchCourseByIdSuccess:p,fetchCourseByIdFailure:j,createCourseStart:g,createCourseSuccess:h,createCourseFailure:v,updateCourseStart:S,updateCourseSuccess:L,updateCourseFailure:A,deleteCourseStart:F,deleteCourseSuccess:I,deleteCourseFailure:P}=i.actions,b=()=>async e=>{var r,s;try{e(f());const u=await a.getCourses();console.log(u),e(C(u.data.data))}catch(u){o.error(((s=(r=u.response)==null?void 0:r.data)==null?void 0:s.data)||"Failed to fetch courses",{autoClose:3e3})}},w=e=>async r=>{try{r(y());const s=await a.getCourseById(e);r(p(s.data.data))}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},B=e=>async r=>{try{r(g());const s=await a.createCourse(e);return r(h(s.data.data)),s.data}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},m=e=>async r=>{try{r(S());const s=await a.updateCourse(e,e.id);return r(L(s.data.data)),s.data}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},x=e=>async r=>{try{r(F());const s=await a.deleteCourse(e);r(I(e)),o.info(s.message||"Course deleted successfully",{autoClose:3e3})}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},D={fetchCourses:b,fetchCourseById:w,createCourse:B,updateCourse:m,deleteCourse:x};function T(){const e=c();return d.useEffect(()=>{e(D.fetchCourses())},[]),l.jsx("div",{children:"CoursesPage"})}export{T as default};
//# sourceMappingURL=Courses.page-CCLs53pA.js.map
