import{l as O,j as n,S as q,bO as B,Q as G,o as F,B as J,x as y,bk as H,T as w,bb as W,bP as Y}from"./index-CGCMCOQF.js";import{S as h,a as K,_ as P,g as Q}from"./BeatLoader-CuS2tzt_.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="0ddf049b-6b5b-4391-84a3-832bd63c4fb9",t._sentryDebugIdIdentifier="sentry-dbid-0ddf049b-6b5b-4391-84a3-832bd63c4fb9")}catch{}const se=({fromChat:t})=>{const e=O(),r=window.location.pathname.includes("/auth");let a,i;return r?(a="50vh",i="100%"):t?(a="100%",i="100%"):(a="100vh",i="100vw"),n.jsx(h,{height:a,width:i,direction:"row",justifyContent:"center",alignItems:"center",children:n.jsx(h,{justifyContent:"center",alignItems:"center",position:"relative",direction:"row",sx:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:e.palette.background.default,boxShadow:`0px 0px 0px 2px ${e.palette.primary.light}`,animation:"spin 2.5s cubic-bezier(0.75, 0, 0, 0.75) forwards infinite","&:before":{content:"''",display:"block",position:"absoulte",top:"5px",right:"5px",bottom:"5px",left:"5px",border:`1px solid ${e.palette.primary.light}`,borderRadius:"50%"},"&:after":{content:"''",display:"block",position:"absolute",top:"40px",right:"40px",bottom:"40px",left:"40px",backgroundColor:e.palette.primary.light,borderRadius:"50%",animation:"pulse 2.5s ease-in-out alternate infinite"}},children:n.jsx(q,{sx:{display:"inline-block",position:"relative",width:"30px",height:"30px",transform:"rotate(45deg)",animation:"spin 2.5s cubic-bezier(0.75, 0, 0, 0.75) forwards infinite"}})})})};var b={},X=()=>{const t="\\ud800-\\udfff",u="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff"+"\\u1ab0-\\u1aff"+"\\u1dc0-\\u1dff",l="\\ufe0e\\ufe0f",k="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",_=`[${t}]`,c=`[${u}]`,m="\\ud83c[\\udffb-\\udfff]",$=`(?:${c}|${m})`,C=`[^${t}]`,s="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",R="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",d=`[${k}]`,g=`${$}?`,D=`[${l}]?`,p=`(?:${v}(?:${[C,s,x].join("|")})${D+g})*`,A=D+g+p,N=`(?:${[`${C}${c}?`,c,s,x,_,d].join("|")})`;return new RegExp(`${R}|${m}(?=${m})|${N+A}`,"g")},Z=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b,"__esModule",{value:!0});var j=Z(X);function I(t){if(typeof t!="string")throw new Error("A string is expected as input");return t.match(j.default())||[]}b.toArray=I;function T(t){if(typeof t!="string")throw new Error("Input must be a string");var e=t.match(j.default());return e===null?0:e.length}var L=b.length=T;function S(t,e,r){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");(typeof e!="number"||e<0)&&(e=0),typeof r=="number"&&r<0&&(r=0);var a=t.match(j.default());return a?a.slice(e,r).join(""):""}b.substring=S;function ee(t,e,r){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");var a=T(t);if(typeof e!="number"&&(e=parseInt(e,10)),e>=a)return"";e<0&&(e+=a);var i;typeof r>"u"?i=a:(typeof r!="number"&&(r=parseInt(r,10)),i=r>=0?r+e:e);var o=t.match(j.default());return o?o.slice(e,i).join(""):""}b.substr=ee;function te(t,e,r,a){if(e===void 0&&(e=16),r===void 0&&(r="#"),a===void 0&&(a="right"),typeof t!="string"||typeof e!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(a)===-1)throw new Error("Pad position should be either left or right");typeof r!="string"&&(r=String(r));var i=T(t);if(i>e)return S(t,0,e);if(i<e){var o=r.repeat(e-i);return a==="left"?o+t:t+o}return t}var re=b.limit=te;function ae(t,e,r){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");if(t==="")return e===""?0:-1;r=Number(r),r=isNaN(r)?0:r,e=String(e);var a=I(t);if(r>=a.length)return e===""?a.length:-1;if(e==="")return r;var i=I(e),o=!1,u;for(u=r;u<a.length;u+=1){for(var l=0;l<i.length&&i[l]===a[u+l];)l+=1;if(l===i.length&&i[l-1]===a[u+l-1]){o=!0;break}}return o?u:-1}b.indexOf=ae;const ne=(t,e)=>{if(!t)return t;const r=re(t,e,"");return L(r)<e?r:r+"…"},ce=({_id:t,fullname:e,firstName:r,name:a,lastName:i,latestMessage:o,activityStatus:u,avatar:l,unread:k,onlineStatus:_,isLoading:c,convo_id:m,fromContact:$,toggleDrawer:C})=>{var M;const s=O(),x=G(),{user:v,onlineFriends:R}=F(f=>f.auth),{activeConversation:d,typingConversation:g}=F(f=>f.chat),p=(()=>{if($){const f=Q(d==null?void 0:d.users,v.id,R);return!!(f&&f._id===t)}else return d&&m?(d==null?void 0:d._id)===m:!1})(),A=()=>{!p&&!c&&x(Y(t))},E=()=>d?s.palette.mode==="dark"?p?s.palette.primary.lighterFaded:"none":p?s.palette.primary.lighter:"none":"none",N=()=>{const f=g==null?void 0:g.find(V=>V.conversation_id===m);return f?f.typing:!1},z={padding:"5px",backgroundColor:`${s.palette.primary.main}15`,borderRadius:20},U=N();return n.jsx(J,{sx:{width:"100%",borderRadius:1,backgroundColor:E,cursor:!p&&!c?"pointer":"default",transition:"background-color 0.2s ease","&:hover":{backgroundColor:!p&&!c&&`${s.palette.primary.main}20`}},p:1.5,onClick:A,children:n.jsxs(h,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[n.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[c?n.jsx(y,{animation:"wave",variant:"circular",width:35,height:35}):_==="online"?n.jsx(K,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:n.jsx(H,{})}):n.jsx(H,{}),n.jsxs(h,{spacing:.3,children:[n.jsx(w,{variant:"subtitle2",children:c?n.jsx(y,{animation:"wave",height:20,width:"7em"}):`${e} ${t===v._id?"(You)":""}`}),n.jsx(w,{variant:"caption",sx:{color:s.palette.text.secondary,paddingTop:.8},children:c?n.jsx(y,{animation:"wave",height:20,width:"12em"}):U?n.jsxs(h,{direction:"row",alignItems:"center",spacing:.5,children:[n.jsx(w,{variant:"caption",sx:{color:s.palette.primary.main,animation:"fade 3s ease infinite","@keyframes fade":{"0%":{opacity:.5},"50%":{opacity:1},"100%":{opacity:.5}}},children:"Typing"}),n.jsx(P,{size:5,height:.5,width:1,color:s.palette.primary.main,speedMultiplier:.5,margin:2,cssOverride:z})]}):ne(o?((M=o==null?void 0:o.sender)==null?void 0:M._id)===v._id?`You: ${o.message}`:o.message:u,20)})]})]}),n.jsxs(h,{spacing:2,alignItems:"center",children:[n.jsx(w,{variant:"caption",sx:{fontWeight:600,color:s.palette.text.secondary,paddingBottom:.8,textWrap:"nowrap"},children:c?n.jsx(y,{animation:"wave",height:20,width:"3em"}):n.jsx("div",{children:"time"})}),c?n.jsx(y,{animation:"wave",variant:"circular",width:15,height:15}):n.jsx(W,{badgeContent:k,max:9,sx:{paddingBottom:1,"& .MuiBadge-badge":{color:s.palette.primary.main,backgroundColor:`${s.palette.primary.main}15`}}})]})]})})},ue=[{_id:0,firstName:"Vaibhav",lastName:"Mishra",avatar:"",activityStatus:"Hey there! I love using TwinkConnect ❤️",msg:"Hello",time:"9:36",unread:2,pinned:!1,online:!0},{_id:1,firstName:"Gaibhav",lastName:"Mishra",avatar:"",activityStatus:"Hey there! I love using TwinkConnect ❤️",msg:"Hello",time:"9:36",unread:0,pinned:!1,online:!0},{_id:2,firstName:"Baibhav",lastName:"Mishra",avatar:"",activityStatus:"Hey there! I love using TwinkConnect ❤️",msg:"Hello",time:"9:36",unread:5,pinned:!1,online:!0},{_id:"65787ea22c8433b199ced18d",firstName:"Aaibhav",lastName:"Mishra",avatar:"",activityStatus:"Hey there! I love using TwinkConnect ❤️",msg:"Hello",time:"9:36",unread:0,pinned:!1,online:!0}],le=[{_id:"65870774cd86e8c7c9b358eb",firstName:"User",lastName:"1",avatar:"",email:"user@gmail.com",createdAt:"2023-12-12T15:39:14.688+00:00"},{_id:"65787ea22c8433b199ced18e",firstName:"Akshat",lastName:"Mishra",avatar:"",email:"akshat@gmail.com",createdAt:"2023-12-12T15:39:14.688+00:00"},{_id:"65bbb5db34b2e8f010a59452",firstName:"Dhananjay",lastName:"Jain",avatar:"",email:"dhananjay@gmail.com",createdAt:"2023-12-12T15:39:14.688+00:00"},{_id:"65d1f4411203451e7ea8b44b",firstName:"Vipul",lastName:"Kumar",avatar:"",email:"vipulk0000@gmail.com",createdAt:"2023-12-12T15:39:14.688+00:00"}];export{ce as A,le as F,se as L,ue as M};
//# sourceMappingURL=index-Bj4yTe2S.js.map
