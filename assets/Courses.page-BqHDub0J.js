import{bj as t,bk as a,x as o,J as c,r as d,j as l}from"./index-BdjiKJGt.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="de2a2ba9-cf8e-46b6-8be8-99afead7e941",e._sentryDebugIdIdentifier="sentry-dbid-de2a2ba9-cf8e-46b6-8be8-99afead7e941")}catch{}const n={courses:[],isLoading:!1,error:null},i=t({name:"course",initialState:n,reducers:{fetchCoursesStart:e=>{e.isLoading=!0,e.error=null},fetchCoursesSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},fetchCoursesFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},fetchCourseByIdStart:e=>{e.isLoading=!0,e.error=null},fetchCourseByIdSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},fetchCourseByIdFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},createCourseStart:e=>{e.isLoading=!0,e.error=null},createCourseSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},createCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},updateCourseStart:e=>{e.isLoading=!0,e.error=null},updateCourseSuccess:(e,r)=>{e.courses=r.payload,e.isLoading=!1,e.error=null},updateCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload},deleteCourseStart:e=>{e.isLoading=!0,e.error=null},deleteCourseSuccess:(e,r)=>{e.courses=e.courses.filter(s=>s._id!==r.payload),e.isLoading=!1,e.error=null},deleteCourseFailure:(e,r)=>{e.isLoading=!1,e.error=r.payload}}}),{fetchCoursesStart:f,fetchCoursesSuccess:C,fetchCoursesFailure:j,fetchCourseByIdStart:y,fetchCourseByIdSuccess:p,fetchCourseByIdFailure:E,createCourseStart:g,createCourseSuccess:h,createCourseFailure:k,updateCourseStart:S,updateCourseSuccess:b,updateCourseFailure:A,deleteCourseStart:L,deleteCourseSuccess:F,deleteCourseFailure:P}=i.actions,I=()=>async e=>{var r,s;try{e(f());const u=await a.getCourses();console.log(u),e(C(u.data.data))}catch(u){o.error(((s=(r=u.response)==null?void 0:r.data)==null?void 0:s.data)||"Failed to fetch courses",{autoClose:3e3})}},w=e=>async r=>{try{r(y());const s=await a.getCourseById(e);r(p(s.data.data))}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},B=e=>async r=>{try{r(g());const s=await a.createCourse(e);return r(h(s.data.data)),s.data}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},x=e=>async r=>{try{r(S());const s=await a.updateCourse(e,e.id);return r(b(s.data.data)),s.data}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},m=e=>async r=>{try{r(L());const s=await a.deleteCourse(e);r(F(e)),o.info(s.message||"Course deleted successfully",{autoClose:3e3})}catch(s){o.error(s.response.data.data||"Failed to fetch course",{autoClose:3e3})}},D={fetchCourses:I,fetchCourseById:w,createCourse:B,updateCourse:x,deleteCourse:m};function T(){const e=c();return d.useEffect(()=>{e(D.fetchCourses())},[]),l.jsx("div",{children:"CoursesPage"})}export{T as default};
//# sourceMappingURL=Courses.page-BqHDub0J.js.map
