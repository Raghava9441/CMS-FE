import{_ as E,ah as j,ak as D,$ as l,r as o,j as r,B as P,al as R}from"./index-CiW8uph1.js";import{u as S,R as y}from"./usePaginationParams-ya7hjzbw.js";import{c as i}from"./course.actions-C42sPYMN.js";import"./Save-Dt2m0OkB.js";import"./reselect-DY5t-FVV.js";import"./InputBase-BiLnOMOs.js";import"./useFormControl-D0QidrAM.js";import"./TextField-UuSUkVl8.js";import"./InputAdornment-BRM-nYND.js";import"./Checkbox-CHHf8lYy.js";import"./SwitchBase-DVK6orIi.js";import"./FormControlLabel-Bm843qRg.js";import"./KeyboardArrowRight-USXmTfBX.js";import"./CircularProgress-A-Mz8BfY.js";function J(){const s=E(),n=j(),c=D().pathname.includes("/courses/"),a=l(e=>e.course.courses);console.log("ðŸš€ ~ coursesData:",a);const{isLoading:m}=l(e=>e.course),h=o.useMemo(()=>[{field:"name",headerName:"Course Name",flex:1.5,editable:!0,headerClassName:"theme--header"},{field:"code",headerName:"Course Code",flex:.8,editable:!0,headerClassName:"theme--header"},{field:"description",headerName:"Description",flex:2,editable:!0,headerClassName:"theme--header"},{field:"schedule",headerName:"Schedule",flex:1,editable:!0,headerClassName:"theme--header"},{field:"credits",headerName:"Credits",flex:.5,editable:!0,headerClassName:"theme--header",type:"number"},{field:"fee",headerName:"Fee",flex:.8,editable:!0,headerClassName:"theme--header",type:"number",valueFormatter:e=>{var t;return`$${(t=e.value)==null?void 0:t.toFixed(2)}`}},{field:"location",headerName:"Location",flex:1,editable:!0,headerClassName:"theme--header"}],[]),[u,p]=o.useState({}),f=o.useCallback(e=>{s(i.fetchCourses())},[s]),{params:d,setParams:C}=S({page:1,limit:10,sortBy:void 0,sortOrder:void 0,searchTerm:void 0,filters:{}},f),g=e=>{C(e)},x=()=>{console.log("Add course")},N=e=>{const t=a.find(M=>M._id===e);console.log("Edit course:",t)},b=async e=>{s(i.deleteCourse(e))},w=e=>{n(`/CMS-FE/courses/${e}`)},v=()=>{s(i.fetchCourses())};return r.jsx(P,{sx:{width:"100%",height:"100%"},children:c?r.jsx(R,{}):r.jsx(y,{columns:h,rows:(a==null?void 0:a.courses)||[],loading:m,onAdd:x,onEdit:N,onView:w,onDelete:b,rowModesModel:u,setRowModesModel:p,totalRows:(a==null?void 0:a.length)||0,paginationModel:{page:d.page-1,pageSize:d.limit},onParamsChange:g,reloadData:v})})}export{J as default};
//# sourceMappingURL=Courses.page-DhRtGitg.js.map
