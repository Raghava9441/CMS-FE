import{r as g,d as j,j as e,B as f,a as u}from"./index-Iayj6iCM.js";import{u as q,C as l}from"./index.esm-DT5DRIWP.js";import{G as a}from"./Grid-CPbLDtt5.js";import{T as n}from"./TextField-BucTJljM.js";import{D}from"./DatePicker-CwwrX_FD.js";import"./InputBase-BjWt6y8l.js";import"./isHostComponent-Byq13FOA.js";import"./Modal-CwWs3I4F.js";import"./Menu-4fDYuzS_.js";import"./List-Bn0p357_.js";import"./useMediaQuery-2gABoogz.js";import"./InputAdornment-B1la7Cdg.js";import"./DialogContent-mFzB5_Mx.js";import"./ListItem-jOw138fS.js";const Y=({initialValues:m,onSubmit:x,onClose:c})=>{const d={_id:"",name:"",category:"",number:"",contactEmail:"",contactPhone:"",website:"",logo:"",establishedDate:null,description:""},{control:i,handleSubmit:h,formState:{errors:s},reset:o}=q({defaultValues:d});g.useEffect(()=>{m&&o({...m,establishedDate:m.establishedDate?j(m.establishedDate):null})},[m,o]);const p=t=>{const r={...t,establishedDate:t.establishedDate?t.establishedDate.format("YYYY-MM-DD"):null};x(r)};return e.jsx("form",{onSubmit:h(p),children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"name",control:i,rules:{required:"Name is required"},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Name",size:"small",fullWidth:!0,margin:"normal",error:!!s.name,helperText:(r=s.name)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"category",control:i,rules:{required:"Category is required"},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Category",size:"small",fullWidth:!0,margin:"normal",error:!!s.category,helperText:(r=s.category)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"number",control:i,rules:{required:"Number is required"},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Number",size:"small",fullWidth:!0,margin:"normal",error:!!s.number,helperText:(r=s.number)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"contactEmail",control:i,rules:{required:"Contact email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Contact Email",size:"small",fullWidth:!0,margin:"normal",error:!!s.contactEmail,helperText:(r=s.contactEmail)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"contactPhone",control:i,rules:{required:"Contact phone is required",pattern:{value:/^[0-9]{10}$/,message:"Invalid phone number"}},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Contact Phone",size:"small",fullWidth:!0,margin:"normal",error:!!s.contactPhone,helperText:(r=s.contactPhone)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"website",control:i,rules:{required:"Website is required",pattern:{value:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,message:"Invalid website URL"}},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Website",size:"small",fullWidth:!0,margin:"normal",error:!!s.website,helperText:(r=s.website)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"logo",control:i,rules:{required:"Logo URL is required"},render:({field:t})=>{var r;return e.jsx(n,{...t,label:"Logo URL",size:"small",fullWidth:!0,margin:"normal",error:!!s.logo,helperText:(r=s.logo)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(l,{name:"establishedDate",control:i,rules:{required:"Established date is required"},render:({field:t})=>{var r;return e.jsx(D,{label:"Established Date",value:t.value,onChange:b=>t.onChange(b),slotProps:{textField:{size:"small",fullWidth:!0,margin:"normal",error:!!s.establishedDate,helperText:(r=s.establishedDate)==null?void 0:r.message}}})}})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(l,{name:"description",control:i,rules:{required:"Description is required"},render:({field:t})=>{var r;return e.jsx(n,{...t,size:"small",label:"Description",fullWidth:!0,multiline:!0,rows:4,margin:"normal",error:!!s.description,helperText:(r=s.description)==null?void 0:r.message})}})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(f,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(u,{variant:"outlined",color:"primary",onClick:()=>{o(d),c()},children:"Cancel"}),e.jsx(u,{type:"submit",variant:"contained",color:"primary",children:"Save"})]})})]})})};export{Y as default};
