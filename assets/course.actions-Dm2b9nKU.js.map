{"version":3,"file":"course.actions-Dm2b9nKU.js","sources":["../../src/redux/actions/course.actions.ts"],"sourcesContent":["\n\n\nimport { Course } from '../../models/course.modal';\nimport { AppDispatch } from '../store';\nimport { createCourseStart, createCourseSuccess, deleteCourseStart, deleteCourseSuccess, fetchCourseByIdStart, fetchCourseByIdSuccess, fetchCoursesStart, fetchCoursesSuccess, updateCourseStart, updateCourseSuccess } from '../slices/course.slice';\nimport { toast } from 'react-toastify';\nimport { courseApi } from '@api/api';\n\nconst fetchCourses = () => async (dispatch: AppDispatch) => {\n    try {\n        dispatch(fetchCoursesStart());\n        const response = await courseApi.getCourses();\n        console.log(response)\n        dispatch(fetchCoursesSuccess(response.data.data));\n    } catch (error) {\n        toast.error(error.response?.data?.data || 'Failed to fetch courses', {\n            autoClose: 3000,\n        });\n    }\n};\n\nconst fetchCourseById = (id: string) => async (dispatch: AppDispatch) => {\n    try {\n        dispatch(fetchCourseByIdStart()); // Set loading state to true\n        const response = await courseApi.getCourseById(id);\n        // console.log(response.data)\n        dispatch(fetchCourseByIdSuccess(response.data.data)); // Pass data to success action\n    } catch (error) {\n        toast.error(error.response.data.data || 'Failed to fetch course', {\n            autoClose: 3000, // Auto close after 3 seconds\n        });\n    }\n};\n\nconst createCourse = (course: Course) => async (dispatch: AppDispatch) => {\n    try {\n        dispatch(createCourseStart()); // Set loading state to true\n        const response = await courseApi.createCourse(course);\n        dispatch(createCourseSuccess(response.data.data)); // Pass data to success action\n        return response.data;\n    } catch (error) {\n        toast.error(error.response.data.data || 'Failed to fetch course', {\n            autoClose: 3000, // Auto close after 3 seconds\n        });\n    }\n};\n\nconst updateCourse = (course: Omit<Course, 'createdAt' | 'updatedAt'>) => async (dispatch: AppDispatch) => {\n    try {\n        // console.log(organization)\n        dispatch(updateCourseStart()); // Set loading state to true\n        const response = await courseApi.updateCourse(course, course.id);\n        dispatch(updateCourseSuccess(response.data.data)); // Pass data to success action\n        return response.data;\n    } catch (error) {\n        toast.error(error.response.data.data || 'Failed to fetch course', {\n            autoClose: 3000, // Auto close after 3 seconds\n        });\n    }\n};\n\nconst deleteCourse = (id: string) => async (dispatch: AppDispatch) => {\n    try {\n        dispatch(deleteCourseStart());\n        const response = await courseApi.deleteCourse(id);\n        dispatch(deleteCourseSuccess(id));\n        toast.info(response.message || 'Course deleted successfully', {\n            autoClose: 3000,\n        });\n    } catch (error) {\n        // console.log(error)\n        toast.error(error.response.data.data || 'Failed to fetch course', {\n            autoClose: 3000,\n        });\n    }\n};\n\n\nexport const courseActions = {\n    fetchCourses,\n    fetchCourseById,\n    createCourse,\n    updateCourse,\n    deleteCourse,\n}"],"names":["fetchCourses","dispatch","fetchCoursesStart","response","courseApi","fetchCoursesSuccess","error","toast","_b","_a","fetchCourseById","id","fetchCourseByIdStart","fetchCourseByIdSuccess","createCourse","course","createCourseStart","createCourseSuccess","updateCourse","updateCourseStart","updateCourseSuccess","deleteCourse","deleteCourseStart","deleteCourseSuccess","courseActions"],"mappings":"gIASA,MAAMA,EAAe,IAAM,MAAOC,GAA0B,SACpD,GAAA,CACAA,EAASC,GAAmB,EACtB,MAAAC,EAAW,MAAMC,EAAU,WAAW,EAC5C,QAAQ,IAAID,CAAQ,EACpBF,EAASI,EAAoBF,EAAS,KAAK,IAAI,CAAC,QAC3CG,EAAO,CACZC,EAAM,QAAMC,GAAAC,EAAAH,EAAM,WAAN,YAAAG,EAAgB,OAAhB,YAAAD,EAAsB,OAAQ,0BAA2B,CACjE,UAAW,GAAA,CACd,CAAA,CAET,EAEME,EAAmBC,GAAe,MAAOV,GAA0B,CACjE,GAAA,CACAA,EAASW,GAAsB,EAC/B,MAAMT,EAAW,MAAMC,EAAU,cAAcO,CAAE,EAEjDV,EAASY,EAAuBV,EAAS,KAAK,IAAI,CAAC,QAC9CG,EAAO,CACZC,EAAM,MAAMD,EAAM,SAAS,KAAK,MAAQ,yBAA0B,CAC9D,UAAW,GAAA,CACd,CAAA,CAET,EAEMQ,EAAgBC,GAAmB,MAAOd,GAA0B,CAClE,GAAA,CACAA,EAASe,GAAmB,EAC5B,MAAMb,EAAW,MAAMC,EAAU,aAAaW,CAAM,EACpD,OAAAd,EAASgB,EAAoBd,EAAS,KAAK,IAAI,CAAC,EACzCA,EAAS,WACXG,EAAO,CACZC,EAAM,MAAMD,EAAM,SAAS,KAAK,MAAQ,yBAA0B,CAC9D,UAAW,GAAA,CACd,CAAA,CAET,EAEMY,EAAgBH,GAAoD,MAAOd,GAA0B,CACnG,GAAA,CAEAA,EAASkB,GAAmB,EAC5B,MAAMhB,EAAW,MAAMC,EAAU,aAAaW,EAAQA,EAAO,EAAE,EAC/D,OAAAd,EAASmB,EAAoBjB,EAAS,KAAK,IAAI,CAAC,EACzCA,EAAS,WACXG,EAAO,CACZC,EAAM,MAAMD,EAAM,SAAS,KAAK,MAAQ,yBAA0B,CAC9D,UAAW,GAAA,CACd,CAAA,CAET,EAEMe,EAAgBV,GAAe,MAAOV,GAA0B,CAC9D,GAAA,CACAA,EAASqB,GAAmB,EAC5B,MAAMnB,EAAW,MAAMC,EAAU,aAAaO,CAAE,EACvCV,EAAAsB,EAAoBZ,CAAE,CAAC,EAC1BJ,EAAA,KAAKJ,EAAS,SAAW,8BAA+B,CAC1D,UAAW,GAAA,CACd,QACIG,EAAO,CAEZC,EAAM,MAAMD,EAAM,SAAS,KAAK,MAAQ,yBAA0B,CAC9D,UAAW,GAAA,CACd,CAAA,CAET,EAGakB,EAAgB,CACzB,aAAAxB,EACA,gBAAAU,EACA,aAAAI,EACA,aAAAI,EACA,aAAAG,CACJ"}