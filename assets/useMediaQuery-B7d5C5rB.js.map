{"version":3,"file":"useMediaQuery-B7d5C5rB.js","sources":["../../node_modules/@mui/system/useMediaQuery/useMediaQuery.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport { getThemeProps } from \"../useThemeProps/index.js\";\nimport useTheme from \"../useThemeWithoutDefault/index.js\";\nfunction useMediaQueryOld(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {\n  const [match, setMatch] = React.useState(() => {\n    if (noSsr && matchMedia) {\n      return matchMedia(query).matches;\n    }\n    if (ssrMatchMedia) {\n      return ssrMatchMedia(query).matches;\n    }\n\n    // Once the component is mounted, we rely on the\n    // event listeners to return the correct matches value.\n    return defaultMatches;\n  });\n  useEnhancedEffect(() => {\n    if (!matchMedia) {\n      return undefined;\n    }\n    const queryList = matchMedia(query);\n    const updateMatch = () => {\n      setMatch(queryList.matches);\n    };\n    updateMatch();\n    queryList.addEventListener('change', updateMatch);\n    return () => {\n      queryList.removeEventListener('change', updateMatch);\n    };\n  }, [query, matchMedia]);\n  return match;\n}\n\n// eslint-disable-next-line no-useless-concat -- Workaround for https://github.com/webpack/webpack/issues/14814\nconst maybeReactUseSyncExternalStore = React['useSyncExternalStore' + ''];\nfunction useMediaQueryNew(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {\n  const getDefaultSnapshot = React.useCallback(() => defaultMatches, [defaultMatches]);\n  const getServerSnapshot = React.useMemo(() => {\n    if (noSsr && matchMedia) {\n      return () => matchMedia(query).matches;\n    }\n    if (ssrMatchMedia !== null) {\n      const {\n        matches\n      } = ssrMatchMedia(query);\n      return () => matches;\n    }\n    return getDefaultSnapshot;\n  }, [getDefaultSnapshot, query, ssrMatchMedia, noSsr, matchMedia]);\n  const [getSnapshot, subscribe] = React.useMemo(() => {\n    if (matchMedia === null) {\n      return [getDefaultSnapshot, () => () => {}];\n    }\n    const mediaQueryList = matchMedia(query);\n    return [() => mediaQueryList.matches, notify => {\n      mediaQueryList.addEventListener('change', notify);\n      return () => {\n        mediaQueryList.removeEventListener('change', notify);\n      };\n    }];\n  }, [getDefaultSnapshot, matchMedia, query]);\n  const match = maybeReactUseSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n  return match;\n}\nexport default function useMediaQuery(queryInput, options = {}) {\n  const theme = useTheme();\n  // Wait for jsdom to support the match media feature.\n  // All the browsers MUI support have this built-in.\n  // This defensive check is here for simplicity.\n  // Most of the time, the match media logic isn't central to people tests.\n  const supportMatchMedia = typeof window !== 'undefined' && typeof window.matchMedia !== 'undefined';\n  const {\n    defaultMatches = false,\n    matchMedia = supportMatchMedia ? window.matchMedia : null,\n    ssrMatchMedia = null,\n    noSsr = false\n  } = getThemeProps({\n    name: 'MuiUseMediaQuery',\n    props: options,\n    theme\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof queryInput === 'function' && theme === null) {\n      console.error(['MUI: The `query` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n    }\n  }\n  let query = typeof queryInput === 'function' ? queryInput(theme) : queryInput;\n  query = query.replace(/^@media( ?)/m, '');\n\n  // TODO: Drop `useMediaQueryOld` and use  `use-sync-external-store` shim in `useMediaQueryNew` once the package is stable\n  const useMediaQueryImplementation = maybeReactUseSyncExternalStore !== undefined ? useMediaQueryNew : useMediaQueryOld;\n  const match = useMediaQueryImplementation(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue({\n      query,\n      match\n    });\n  }\n  return match;\n}"],"names":["useMediaQueryOld","query","defaultMatches","matchMedia","ssrMatchMedia","noSsr","match","setMatch","React.useState","useEnhancedEffect","queryList","updateMatch","maybeReactUseSyncExternalStore","React[\"useSyncExternalStore\"]","useMediaQueryNew","getDefaultSnapshot","React.useCallback","getServerSnapshot","React.useMemo","matches","getSnapshot","subscribe","mediaQueryList","notify","useMediaQuery","queryInput","options","theme","useTheme","supportMatchMedia","getThemeProps"],"mappings":"+DAMA,SAASA,EAAiBC,EAAOC,EAAgBC,EAAYC,EAAeC,EAAO,CACjF,KAAM,CAACC,EAAOC,CAAQ,EAAIC,WAAe,IACnCH,GAASF,EACJA,EAAWF,CAAK,EAAE,QAEvBG,EACKA,EAAcH,CAAK,EAAE,QAKvBC,CACR,EACD,OAAAO,EAAkB,IAAM,CACtB,GAAI,CAACN,EACI,OAEH,MAAAO,EAAYP,EAAWF,CAAK,EAC5BU,EAAc,IAAM,CACxBJ,EAASG,EAAU,OAAO,CAC5B,EACY,OAAAC,EAAA,EACFD,EAAA,iBAAiB,SAAUC,CAAW,EACzC,IAAM,CACDD,EAAA,oBAAoB,SAAUC,CAAW,CACrD,CAAA,EACC,CAACV,EAAOE,CAAU,CAAC,EACfG,CACT,CAGA,MAAMM,EAAiCC,EAAiC,qBACxE,SAASC,EAAiBb,EAAOC,EAAgBC,EAAYC,EAAeC,EAAO,CACjF,MAAMU,EAAqBC,EAAM,YAAY,IAAMd,EAAgB,CAACA,CAAc,CAAC,EAC7Ee,EAAoBC,EAAAA,QAAc,IAAM,CAC5C,GAAIb,GAASF,EACJ,MAAA,IAAMA,EAAWF,CAAK,EAAE,QAEjC,GAAIG,IAAkB,KAAM,CACpB,KAAA,CACJ,QAAAe,CAAA,EACEf,EAAcH,CAAK,EACvB,MAAO,IAAMkB,CAAA,CAER,OAAAJ,CAAA,EACN,CAACA,EAAoBd,EAAOG,EAAeC,EAAOF,CAAU,CAAC,EAC1D,CAACiB,EAAaC,CAAS,EAAIH,UAAc,IAAM,CACnD,GAAIf,IAAe,KACV,MAAA,CAACY,EAAoB,IAAM,IAAM,CAAA,CAAE,EAEtC,MAAAO,EAAiBnB,EAAWF,CAAK,EACvC,MAAO,CAAC,IAAMqB,EAAe,QAAmBC,IAC/BD,EAAA,iBAAiB,SAAUC,CAAM,EACzC,IAAM,CACID,EAAA,oBAAoB,SAAUC,CAAM,CACrD,EACD,CACA,EAAA,CAACR,EAAoBZ,EAAYF,CAAK,CAAC,EAEnC,OADOW,EAA+BS,EAAWD,EAAaH,CAAiB,CAExF,CACA,SAAwBO,EAAcC,EAAYC,EAAU,GAAI,CAC9D,MAAMC,EAAQC,EAAS,EAKjBC,EAAoB,OAAO,OAAW,KAAe,OAAO,OAAO,WAAe,IAClF,CACJ,eAAA3B,EAAiB,GACjB,WAAAC,EAAa0B,EAAoB,OAAO,WAAa,KACrD,cAAAzB,EAAgB,KAChB,MAAAC,EAAQ,IACNyB,EAAc,CAChB,KAAM,mBACN,MAAOJ,EACP,MAAAC,CAAA,CACD,EAMD,IAAI1B,EAAQ,OAAOwB,GAAe,WAAaA,EAAWE,CAAK,EAAIF,EAC3D,OAAAxB,EAAAA,EAAM,QAAQ,eAAgB,EAAE,GAGJW,IAAmC,OAAYE,EAAmBd,GAC5DC,EAAOC,EAAgBC,EAAYC,EAAeC,CAAK,CASnG","x_google_ignoreList":[0]}